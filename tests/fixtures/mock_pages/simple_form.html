<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BotFlow Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #555; }
        input[type="text"], input[type="password"], input[type="number"] { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
        button { padding: 12px 24px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-primary:hover { background: #0056b3; }
        .btn-danger { background: #dc3545; color: white; }
        .success-message { display: none; padding: 15px; background: #d4edda; color: #155724; border-radius: 4px; margin-top: 15px; }
        .error-message { display: none; padding: 15px; background: #f8d7da; color: #721c24; border-radius: 4px; margin-top: 15px; }
        .odds-panel { margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 4px; }
        .odds-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #dee2e6; }
        .odds-value { font-weight: bold; color: #007bff; }
        .bet-slip { display: none; margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 4px; }
        .confirmation { display: none; margin-top: 20px; padding: 15px; background: #cce5ff; border-radius: 4px; }
        #user-display { display: none; color: #28a745; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Section -->
        <div id="login-section">
            <h1>Login</h1>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" placeholder="Enter username" aria-label="Username input">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter password" aria-label="Password input">
            </div>
            <button id="login-btn" class="btn-primary" onclick="handleLogin()" aria-label="Login button">Login</button>
            <div class="error-message" id="login-error">Invalid credentials. Please try again.</div>
        </div>

        <!-- Dashboard Section (shown after login) -->
        <div id="dashboard-section" style="display: none;">
            <h1>Live Odds</h1>
            <p>Welcome, <span id="user-display"></span></p>

            <!-- Match odds -->
            <div class="odds-panel" data-testid="odds-panel">
                <h3>PSG - OM</h3>
                <div class="odds-row">
                    <span>Home (PSG)</span>
                    <span class="odds-value outcome-home" data-outcome="home">1.85</span>
                </div>
                <div class="odds-row">
                    <span>Draw</span>
                    <span class="odds-value outcome-draw" data-outcome="draw">3.40</span>
                </div>
                <div class="odds-row">
                    <span>Away (OM)</span>
                    <span class="odds-value outcome-away" data-outcome="away">4.20</span>
                </div>
            </div>

            <!-- Bet slip -->
            <div class="bet-slip" id="bet-slip">
                <h3>Bet Slip</h3>
                <p>Selection: <span id="bet-selection"></span> @ <span id="bet-odds"></span></p>
                <div class="form-group">
                    <label for="stake">Stake (€)</label>
                    <input type="number" id="stake" name="stake" value="10" min="1" max="1000" aria-label="Stake amount">
                </div>
                <button id="place-bet-btn" class="btn-primary" onclick="placeBet()" aria-label="Place bet">Parier</button>
                <button class="btn-danger" onclick="clearSlip()" aria-label="Clear bet slip">Vider</button>
            </div>

            <!-- Confirmation -->
            <div class="confirmation" id="bet-confirmation">
                <h3>✅ Pari confirmé!</h3>
                <p>Bet ID: <span class="bet-id" id="bet-id"></span></p>
                <p>Odds: <span id="confirmed-odds"></span></p>
                <p>Stake: <span id="confirmed-stake"></span>€</p>
                <p>Potential return: <span id="potential-return"></span>€</p>
            </div>
        </div>
    </div>

    <script>
        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username && password) {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('dashboard-section').style.display = 'block';
                document.getElementById('user-display').textContent = username;
                document.getElementById('user-display').style.display = 'inline';
            } else {
                document.getElementById('login-error').style.display = 'block';
            }
        }

        // Make odds clickable
        document.querySelectorAll('.odds-value').forEach(el => {
            el.style.cursor = 'pointer';
            el.addEventListener('click', function() {
                const outcome = this.dataset.outcome;
                const odds = this.textContent;
                document.getElementById('bet-slip').style.display = 'block';
                document.getElementById('bet-confirmation').style.display = 'none';
                document.getElementById('bet-selection').textContent = outcome;
                document.getElementById('bet-odds').textContent = odds;
            });
        });

        function placeBet() {
            const odds = parseFloat(document.getElementById('bet-odds').textContent);
            const stake = parseFloat(document.getElementById('stake').value);
            const betId = 'BET-' + Math.random().toString(36).substr(2, 9).toUpperCase();

            document.getElementById('bet-slip').style.display = 'none';
            document.getElementById('bet-confirmation').style.display = 'block';
            document.getElementById('bet-id').textContent = betId;
            document.getElementById('confirmed-odds').textContent = odds;
            document.getElementById('confirmed-stake').textContent = stake;
            document.getElementById('potential-return').textContent = (odds * stake).toFixed(2);
        }

        function clearSlip() {
            document.getElementById('bet-slip').style.display = 'none';
            document.getElementById('bet-confirmation').style.display = 'none';
        }
    </script>
</body>
</html>
